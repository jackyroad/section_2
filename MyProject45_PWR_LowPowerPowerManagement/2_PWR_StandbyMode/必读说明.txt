/*********************************************************************************************/

【*】 程序简介 

-工程名称：待机模式
-实验平台: 野火STM32 F429 开发板 
-MDK版本：5.16
-ST固件库版本：1.5.1

【 ！】功能简介：
学习使用低功耗待机模式。

【 ！！】注意事项：
在待机状态下，DAP下载器无法给STM32下载程序，需要唤醒后才能下载

【 ！】实验操作：
连接串口调试助手可获取调试信息。

本程序中，绿灯表示本次复位是上电或引脚复位，红灯表示即将进入待机状态，蓝灯表示本次是待机唤醒的复位

1.下载程序并复位，板子会亮绿灯
2.长按KEY2按键后，亮红灯，然后会进入待机模式
3.在待机模式下，按KEY1按键可唤醒，唤醒后系统会进行复位，程序从头开始执行
4.唤醒复位后会亮蓝灯

/*********************************************************************************************/

【*】 引脚分配

KEY:
两个按键均有硬件去抖，按下的时候均为高电平，不按时为低电平。

	KEY1<--->PA0(只有PA0能作为WAUP引脚，且必须要能产生上升沿才能从待机状态唤醒)
	KEY2<--->PC13

LED：
RGB彩灯的三个阴极接到STM32三个引脚上，LED低电平亮。

	R<--->PH10
	G<--->PH11
	B<--->PH12
    
串口（TTL-USB TO USART）：
CH340的收发引脚与STM32的发收引脚相连。
	CH340  RXD  <----->  USART1  TX  (PA9)
	CH340  TXD  <----->  USART1  RX  (PA10)

【*】 程序相关

    (1) 清除 WUF 标志位；
    (2) 使能 WKUP 唤醒功能；
    (3) 进入待机状态。

    待机模式，它除了关闭所有的时钟，还把 1.2V 区域的电源也完全关闭了，也就是说，从待机模
    式唤醒后，由于没有之前代码的运行记录，只能对芯片复位，重新检测 boot 条件，从头开始执行
    程序。它有四种唤醒方式，分别是 WKUP(PA0) 引脚的上升沿，RTC 闹钟事件，NRST 引脚的复
    位和 IWDG(独立看门狗) 复位。
    
/*********************************************************************************************/

【*】 时钟

A.晶振：
-外部高速晶振：25MHz
-RTC晶振：32.768KHz

B.各总线运行时钟：
-系统时钟 = SYCCLK = AHB1 = 180MHz
-APB2 = 90MHz 
-APB1 = 45MHz

C.浮点运算单元：
  不使用

/*********************************************************************************************/

【*】 版本

-程序版本：1.0
-发布日期：2015-10

-版本更新说明：首次发布

/*********************************************************************************************/

【*】 联系我们

-野火官网  :https://embedfire.com
-野火论坛  :http://www.firebbs.cn
-野火商城  :https://yehuosm.tmall.com
-野火资料下载中心 :http://doc.embedfire.com/products/link

/*********************************************************************************************/